{% extends "base.html" %}
{% block content %}

<a href="/dashboard" class="link">‚Üê Back to Dashboard</a>

<div class="card" style="max-width:520px; margin:40px auto;">
    <h2>Create a New Group</h2>

    <p style="color:#6f6f6f; font-size:14px; margin-bottom:24px;">
        Create a private group to manage shared expenses with clarity.
    </p>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <p style="color:#8b2e2e; font-size:14px; margin-bottom:14px;">
                    {{ message }}
                </p>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="post">

        <!-- GROUP NAME -->
        <label style="font-size:14px; color:#6b4f3f;">Group Name</label>
        <input
            type="text"
            name="name"
            placeholder="e.g. Weekend Trip, Flat Expenses"
            required
        />

        <!-- MEMBERS (OPTIONAL) -->
        <div style="margin-top:24px;">
            <h3 style="font-size:16px; margin-bottom:6px;">
                Add Members
                <span style="font-size:13px; color:#6f6f6f;">(optional)</span>
            </h3>

            <p style="font-size:13px; color:#6f6f6f; margin-bottom:14px;">
                You can add members now or later from the group page.
            </p>

            <div class="member-list">
                {% for u in users %}
                    <label class="member-row">
                        <input type="checkbox" name="members" value="{{ u.id }}">
                        <div class="member-text">
                            <span class="member-name">{{ u.name }}</span>
                            <span class="member-email">{{ u.email }}</span>
                        </div>
                    </label>
                {% endfor %}
            </div>
        </div>

        <!-- SUBMIT -->
        <div style="margin-top:28px;">
            <button class="btn primary" style="width:100%;">
                Create Group
            </button>
        </div>

    </form>
</div>

{% endblock %}
